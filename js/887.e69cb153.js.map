{"version":3,"file":"js/887.e69cb153.js","mappings":"0QACA,MAAMA,EAAa,CACjBC,MAAO,SAEHC,EAAa,CACjBD,MAAO,mBAEHE,EAAa,CACjBF,MAAO,mBAEHG,EAAa,CACjBH,MAAO,mBAEF,SAASI,EAAOC,EAAMC,EAAQC,EAAQC,EAAQC,EAAOC,GAC1D,MAAMC,EAAwB,IACxBC,EAAkB,IAClBC,EAAsB,KACtBC,EAAuB,KACvBC,EAAoB,IAC1B,OAAO,WAAc,QAAoB,MAAOhB,EAAY,EAAC,QAAaY,EAAuB,CAC/FX,MAAO,iBACL,QAAaY,IAAkB,QAAoB,MAAOX,EAAY,CAACK,EAAO,KAAOA,EAAO,IAAK,QAAoB,KAAM,CAC7HN,MAAO,eACN,SAAU,KAAK,QAAoB,MAAOE,EAAY,CAACI,EAAO,KAAOA,EAAO,IAAK,QAAoB,IAAK,CAC3GN,MAAO,cACN,OAAQ,KAAK,QAAaa,EAAqB,CAChDG,WAAYP,EAAMQ,SAClB,sBAAuBX,EAAO,KAAOA,EAAO,GAAKY,GAAUT,EAAMQ,SAAWC,GAC5EC,YAAa,SACbnB,MAAO,kBACN,KAAM,EAAG,CAAC,kBAAkB,QAAoB,MAAOG,EAAY,CAACG,EAAO,KAAOA,EAAO,IAAK,QAAoB,IAAK,CACxHN,MAAO,cACN,MAAO,KAAK,QAAaa,EAAqB,CAC/CG,WAAYP,EAAMW,SAClB,sBAAuBd,EAAO,KAAOA,EAAO,GAAKY,GAAUT,EAAMW,SAAWF,GAC5EC,YAAa,QACbnB,MAAO,iBACPqB,KAAM,WACN,gBAAiB,GACjBC,SAAS,QAAUZ,EAASa,MAAO,CAAC,QAAS,YAC5C,KAAM,EAAG,CAAC,aAAc,eAAe,QAAaT,EAAsB,CAC3Ed,MAAO,SACPqB,KAAM,UACNG,QAASd,EAASa,OACjB,CACDE,SAAS,SAAS,IAAMnB,EAAO,KAAOA,EAAO,GAAK,EAAC,QAAiB,UACpEoB,EAAG,GACF,EAAG,CAAC,eAAe,QAAaX,EAAmB,CACpDf,MAAO,YAEX,C,uCC3CA,GACE2B,OAAQ,CAACC,EAAA,GACT,IAAAC,GACE,MAAO,CACLT,SAAU,GACVH,SAAU,GAEd,EACAa,SAAU,KACL,QAAW,CAAC,gBAEjBC,WAAY,CACVC,OAAM,IACNC,WAAU,IACVC,KAAI,KAEN,OAAAC,GAEEC,KAAKC,qBAAqB,kBAAmB,UAAU,GAAO,EAChE,EACAC,QAAS,CACP,WAAMf,GACJ,MAAMgB,EAAcC,KAAK,GAAGJ,KAAKnB,YAAYmB,KAAKhB,YAClD,IACE,MAAMqB,QAAiBC,MAAM,oBAAqB,CAChDC,OAAQ,MACRC,QAAS,CACP,cAAiB,SAASL,KAE5BA,YAAa,YAES,MAApBE,EAASI,OACXT,KAAKU,SAASC,MAAM,YACS,MAApBN,EAASI,QAElBT,KAAKY,OAAOC,OAAO,iBAAkBV,GACrCH,KAAKc,QAAQC,KAAK,eAElBf,KAAKU,SAASC,MAAM,WAExB,CAAE,MAAOA,GACPX,KAAKU,SAASC,MAAM,QACtB,CACF,I,UC3CJ,MAAMK,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAShD,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://sanyue_imghub/./src/views/AdminLogin.vue?9da5","webpack://sanyue_imghub/./src/views/AdminLogin.vue","webpack://sanyue_imghub/./src/views/AdminLogin.vue?06e1"],"sourcesContent":["import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, withKeys as _withKeys, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"login\"\n};\nconst _hoisted_2 = {\n  class: \"login-container\"\n};\nconst _hoisted_3 = {\n  class: \"input-container\"\n};\nconst _hoisted_4 = {\n  class: \"input-container\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_ToggleDark = _resolveComponent(\"ToggleDark\");\n  const _component_Logo = _resolveComponent(\"Logo\");\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_Footer = _resolveComponent(\"Footer\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_ToggleDark, {\n    class: \"toggle-dark\"\n  }), _createVNode(_component_Logo), _createElementVNode(\"div\", _hoisted_2, [_cache[5] || (_cache[5] = _createElementVNode(\"h1\", {\n    class: \"login-title\"\n  }, \"管理端登录\", -1)), _createElementVNode(\"div\", _hoisted_3, [_cache[2] || (_cache[2] = _createElementVNode(\"a\", {\n    class: \"input-name\"\n  }, \"用户名\", -1)), _createVNode(_component_el_input, {\n    modelValue: $data.username,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.username = $event),\n    placeholder: \"请输入用户名\",\n    class: \"password-input\"\n  }, null, 8, [\"modelValue\"])]), _createElementVNode(\"div\", _hoisted_4, [_cache[3] || (_cache[3] = _createElementVNode(\"a\", {\n    class: \"input-name\"\n  }, \"密码\", -1)), _createVNode(_component_el_input, {\n    modelValue: $data.password,\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.password = $event),\n    placeholder: \"请输入密码\",\n    class: \"password-input\",\n    type: \"password\",\n    \"show-password\": \"\",\n    onKeyup: _withKeys($options.login, [\"enter\", \"native\"])\n  }, null, 8, [\"modelValue\", \"onKeyup\"])]), _createVNode(_component_el_button, {\n    class: \"submit\",\n    type: \"primary\",\n    onClick: $options.login\n  }, {\n    default: _withCtx(() => _cache[4] || (_cache[4] = [_createTextVNode(\"登录\")])),\n    _: 1\n  }, 8, [\"onClick\"])]), _createVNode(_component_Footer, {\n    class: \"footer\"\n  })]);\n}","import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/web.dom-exception.stack.js\";\nimport Footer from '@/components/Footer.vue';\nimport ToggleDark from '@/components/ToggleDark.vue';\nimport Logo from '@/components/Logo.vue';\nimport { mapGetters } from 'vuex';\nimport backgroundManager from '@/mixins/backgroundManager';\nexport default {\n  mixins: [backgroundManager],\n  data() {\n    return {\n      password: '',\n      username: ''\n    };\n  },\n  computed: {\n    ...mapGetters(['userConfig'])\n  },\n  components: {\n    Footer,\n    ToggleDark,\n    Logo\n  },\n  mounted() {\n    // 初始化背景图，启用自动创建元素\n    this.initializeBackground('adminLoginBkImg', '.login', false, true);\n  },\n  methods: {\n    async login() {\n      const credentials = btoa(`${this.username}:${this.password}`); // Base64 编码\n      try {\n        const response = await fetch('/api/manage/check', {\n          method: 'GET',\n          headers: {\n            'Authorization': `Basic ${credentials}`\n          },\n          credentials: 'include'\n        });\n        if (response.status === 401) {\n          this.$message.error('用户名或密码错误');\n        } else if (response.status === 200) {\n          // 认证成功，存储认证信息，跳转到管理页面\n          this.$store.commit('setCredentials', credentials);\n          this.$router.push('/dashboard');\n        } else {\n          this.$message.error('用户名或密码错误');\n        }\n      } catch (error) {\n        this.$message.error('服务器错误');\n      }\n    }\n  }\n};","/* unplugin-vue-components disabled */import { render } from \"./AdminLogin.vue?vue&type=template&id=95b86422&scoped=true\"\nimport script from \"./AdminLogin.vue?vue&type=script&lang=js\"\nexport * from \"./AdminLogin.vue?vue&type=script&lang=js\"\n\nimport \"./AdminLogin.vue?vue&type=style&index=0&id=95b86422&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-95b86422\"]])\n\nexport default __exports__"],"names":["_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","render","_ctx","_cache","$props","$setup","$data","$options","_component_ToggleDark","_component_Logo","_component_el_input","_component_el_button","_component_Footer","modelValue","username","$event","placeholder","password","type","onKeyup","login","onClick","default","_","mixins","backgroundManager","data","computed","components","Footer","ToggleDark","Logo","mounted","this","initializeBackground","methods","credentials","btoa","response","fetch","method","headers","status","$message","error","$store","commit","$router","push","__exports__"],"sourceRoot":""}