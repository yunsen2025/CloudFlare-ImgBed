"use strict";(self["webpackChunksanyue_imghub"]=self["webpackChunksanyue_imghub"]||[]).push([[391],{8216:function(s,e,t){t.r(e),t.d(e,{default:function(){return F}});var a=t(6975),n=t(47),o=(t(5331),t(9648),t(2105)),i=(t(9092),t(4632)),r=t(3525),u=t(6768),l=t(4232),d=t(5130);const c={class:"login"},p={class:"login-container"},h={class:"login-title"},g={class:"input-container"};function m(s,e,t,m,w,k){const f=r.A,b=i.A,v=o.WK,A=n.S2,C=a.A;return(0,u.uX)(),(0,u.CE)("div",c,[(0,u.bF)(f,{class:"toggle-dark"}),(0,u.bF)(b),(0,u.Lk)("div",p,[(0,u.Lk)("h1",h,"登录到 "+(0,l.v_)(k.ownerName)+" 图床",1),(0,u.Lk)("div",g,[e[1]||(e[1]=(0,u.Lk)("a",{class:"input-name"},"密码",-1)),(0,u.bF)(v,{class:"password-input",modelValue:w.password,"onUpdate:modelValue":e[0]||(e[0]=s=>w.password=s),placeholder:"请输入认证码",type:"password","show-password":"",onKeyup:(0,d.jR)(k.login,["enter","native"])},null,8,["modelValue","onKeyup"])]),(0,u.bF)(A,{class:"submit",type:"primary",onClick:k.login},{default:(0,u.k6)((()=>e[2]||(e[2]=[(0,u.eW)("登录")]))),_:1},8,["onClick"])]),(0,u.bF)(C,{class:"footer"})])}t(4114);var w=t(4570),k=t.n(w),f=t(9189),b=t(782),v=t(8903),A={mixins:[v.A],data(){return{password:"",writtenPass:""}},computed:{...(0,b.L8)(["userConfig"]),ownerName(){return this.userConfig?.ownerName||"Sanyue"}},components:{Footer:a.A,ToggleDark:r.A,Logo:i.A},mounted(){this.initializeBackground("loginBkImg",".login",!0,!0)},methods:{login(){""===this.password?this.writtenPass="unset":this.writtenPass=this.password,f.A.post("/api/login",{authCode:this.password}).then((s=>{200===s.status?(k().set("authCode",this.writtenPass,"14d"),this.$router.push("/"),this.$message.success("登录成功")):this.$message.error("登录失败，请检查密码是否正确")})).catch((s=>{this.$message.error("登录失败，请检查密码是否正确")}))}}},C=t(1241);const y=(0,C.A)(A,[["render",m],["__scopeId","data-v-a50f6370"]]);var F=y}}]);
//# sourceMappingURL=391.28abf429.js.map