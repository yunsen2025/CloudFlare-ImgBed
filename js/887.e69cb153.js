"use strict";(self["webpackChunksanyue_imghub"]=self["webpackChunksanyue_imghub"]||[]).push([[887],{7472:function(s,e,a){a.r(e),a.d(e,{default:function(){return v}});var n=a(6975),o=a(47),t=(a(5331),a(9648),a(2105)),i=(a(9092),a(4632)),r=a(3525),l=a(6768),u=a(5130);const c={class:"login"},d={class:"login-container"},p={class:"input-container"},m={class:"input-container"};function h(s,e,a,h,g,k){const b=r.A,w=i.A,f=t.WK,v=o.S2,y=n.A;return(0,l.uX)(),(0,l.CE)("div",c,[(0,l.bF)(b,{class:"toggle-dark"}),(0,l.bF)(w),(0,l.Lk)("div",d,[e[5]||(e[5]=(0,l.Lk)("h1",{class:"login-title"},"管理端登录",-1)),(0,l.Lk)("div",p,[e[2]||(e[2]=(0,l.Lk)("a",{class:"input-name"},"用户名",-1)),(0,l.bF)(f,{modelValue:g.username,"onUpdate:modelValue":e[0]||(e[0]=s=>g.username=s),placeholder:"请输入用户名",class:"password-input"},null,8,["modelValue"])]),(0,l.Lk)("div",m,[e[3]||(e[3]=(0,l.Lk)("a",{class:"input-name"},"密码",-1)),(0,l.bF)(f,{modelValue:g.password,"onUpdate:modelValue":e[1]||(e[1]=s=>g.password=s),placeholder:"请输入密码",class:"password-input",type:"password","show-password":"",onKeyup:(0,u.jR)(k.login,["enter","native"])},null,8,["modelValue","onKeyup"])]),(0,l.bF)(v,{class:"submit",type:"primary",onClick:k.login},{default:(0,l.k6)((()=>e[4]||(e[4]=[(0,l.eW)("登录")]))),_:1},8,["onClick"])]),(0,l.bF)(y,{class:"footer"})])}a(4114),a(4979);var g=a(782),k=a(8903),b={mixins:[k.A],data(){return{password:"",username:""}},computed:{...(0,g.L8)(["userConfig"])},components:{Footer:n.A,ToggleDark:r.A,Logo:i.A},mounted(){this.initializeBackground("adminLoginBkImg",".login",!1,!0)},methods:{async login(){const s=btoa(`${this.username}:${this.password}`);try{const e=await fetch("/api/manage/check",{method:"GET",headers:{Authorization:`Basic ${s}`},credentials:"include"});401===e.status?this.$message.error("用户名或密码错误"):200===e.status?(this.$store.commit("setCredentials",s),this.$router.push("/dashboard")):this.$message.error("用户名或密码错误")}catch(e){this.$message.error("服务器错误")}}}},w=a(1241);const f=(0,w.A)(b,[["render",h],["__scopeId","data-v-95b86422"]]);var v=f}}]);
//# sourceMappingURL=887.e69cb153.js.map